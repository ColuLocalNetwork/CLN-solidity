
# A helper script that contains predefined accounts, their balance and helper funcs.
# Usage in scripts: 
#. scripts/common.sh


# We define 10 accounts with balance 10B ether, needed for high-value tests.

balance=10000000000000000000000000000

acc=( \
    0x11c98b8fa69354b26b5db98148a5bc4ef2ebae8187f651b82409f6cefc9bb0b8 \
    0xc5db67b3865454f6d129ec83204e845a2822d9fe5338ff46fe4c126859e1357e \
    0x6ac1a8c98fa298af3884406fbd9468dca5200898f065e1283fc85dff95646c25 \
    0xbd9aebf18275f8074c53036818e8583b242f9bdfb7c0e79088007cb39a96e097 \
    0x8b727508230fda8e0ec96b7c9e51c89ff0e41ba30fad221c2f0fe942158571b1 \
    0x514111937962a290ba6afa3dd0044e0720148b46cd2dbc8045e811f8157b6b1a \
    0x52f21c3eedc184eb13fcd5ec8e45e6741d97bca85a8703d733fab9c19f5e8518 \
    0xbca3035e18b3f87a38fa34fcc2561a023fe1f9b93354c04c772f37497ef08f3e \
    0x2d8676754eb3d184f3e9428c5d52eacdf1d507593ba50c3ef2a59e1a3a46b578 \
    0xabf8c2dd52f5b14ea437325854048e5daadbca80f99f9d6f8e97ab5e05d4f0ab \
    \
    0x19ab245391c46372a341757dcfa4b69e5f083d36e47d46bcdeb7b5b348cd3c09 \
    0x302e3921753d484a5358f41bb360c42ddf81cac170279024226cc803a270e6f5 \
    0x28332348bf30d514af3e7fd48534b4fe9bcfe56fd42ddba1b5ab73e2e5a0b49c \
    0x84a117227be70d45281f512e8ada0d6ea17e8ab5e1a744ca275aa08403f0ebd3 \
    0x4785ae7c653f1e572822f7bc41ee501d2ba739836223a3260555d73acf6c76f5 \
    0x7388f666795bc8a4cdde31923f46fa0389afb686331a5575fb13642545a8054b \
    0xcd705aa706bc61f6e5c6fe19777c5296a8e8489222ff81e0f83dfa07ed5c6649 \
    0x646576fc71d99bf32527a4365b94d30d743a5b9e0d39a4df0347ac7a456c5db3 \
    0x7ed0a695d97a8eae39ee968c8a5cbdfec8dac988dbcc9d4ac9b9ee326d81e0b8 \
    0xa1d90da9f85a8369c4dcc93bc9eabe6dd12b4ddcdb3a0443504c6758260883f3 \
    \
    0xf09dbf91d7c8df065dc714c2d521f7e1d55e7b5797d3c66b7afb0e300db7910b \
    0xe47d94e1918b7126771b5ff440ebc5f04bc4e9e42c19eb814b5d89ef419ef42c \
    0x113aa0626b408575df22ca4a59ca26aff6e70f198d73877fc075cd6246823361 \
    0xfeea114b644885d54393bfe040564e398b7d5269328b023fa9880df241c170fc \
    0xecf591cb735371874c2a18d0dc660f673d92b5b62a4bf3f85dbb49180f78b9f8 \
    0xaaf0ae09c9ae84c1962951aefefbed6fa685eeaa36636232e3b38062476f337c \
    0x404dd1786043adccce5fd8930b28993c9a9a8863d808bffb49283a5f555b9d72 \
    0xbefeda6bc7c58e4d0f800ad4a75b785e7d03df8b282e8ca3079a4486127a3515 \
    0x8e04fa966878a5574dabb045f6b1404d2f87c3536dc3baa9797c2a880fde4ae8 \
    0x39d838b7967dfa70e7e797deac146ff93f7428cc3c7466126c0201d88e06ec82 \
    \
    0x7bb2ab023348e3624d1d4062951eaf32dfe6b1dbaaf5ced94d930d521c1fd465 \
    0x8586b769888c63604e1c9889343b7a8f87e9aa8cd1f9f35b05ced88e0a79cb4c \
    0x06ed9e6252f9371aac4a8f02e77e905b37b645dbdb0527cb2996cdf72c8c27bb \
    0x28ba85df21df8a3ac7b56d3235491db12928a9efc2fb3af084deedcb91f5539d \
    0xc0abf59254b9ca32d9132287699d04e4a372cdfb5c76bdc378455bc064192eff \
    0xa1a7ee254d491e864987875e0f09f2f1f7693a62de8b4e526e7332219e24488a \
    0xdd3cbac4d7b42c52b4ff4bbf4740c98f571b03f9aa2bb43862fc53ffc5197223 \
    0x5ca668d6b4e7f23ff79f87d45be046415004892556a492f296a994f9095ba77b \
    0xd84822af1a733ea1619044d8371f44a40e08fac5b4d6eea36c0970d8ee262803 \
    0x935aaf9c65af5dcaf1ee65bfd8331046bd67dd3c9a60bfa2d72987958786479c \
    \
    0x69b8055895f7059b86517079b429167444031cc39d71a3afce81835cd807beca \
    0xca60b17dbce9ffa0ebcb4fa72e41f64f3699c590d4ea4333bdec661ffea013b2 \
    0x107be95a222ba79b68dc02f319caab6e20bca80c88529732463582db66638f96 \
    0x30788582fa82810ea9ab7b30d6a497d2193634003a139748869d283ecce1272e \
    0xa4b9711b310f3dc1647ac6db3853fd601d24a422424229f56623dda3e2e6b32f \
    0xc65cd848b05e7f336288f1f50a108ea47f7197b72737c2c67609b52c233033a4 \
    0xc40032de5f67a5562f2e7baec6d9fb4f21d9373c37ff5be7fafb48955909359b \
    0xc3456f541f4d52dda9a6aecd60572eb50c2d452c28f4122f9f238006e28ceebf \
    0x0259c4189c62d020cb9b783fb71c96575d339b7d9eeb461ab7f4d6e896f1ec3c \
    0x99bbcadf454ce57a55a6bbfcc02e10ba6b556e1487d9af1ff401c93170bfb666 \
    \
    0x004ed16974d091cd5149a2300c53480f916fc62c05c493dec9b300f5d351b27b \
    )

# Prepare a ganache-cli accounts parameter string like --account="0x11c..,1000" --account="0xc5d...,1000" ....
for a in ${acc[@]}; do
  accounts=$accounts$(printf ' --account="%s,%s"' "$a" "$balance")
done

# Helper funcs.

# Test if ganache-cli is running on port $1. 
# Result is in $?
ganache-cli_running() {
  nc -z localhost $1
}

# Kills ganache-cli process with its PID in $ganache-cli_pid.
cleanup() {
  echo "cleaning up"
  # Kill the ganache-cli instance that we started (if we started one).
  if [ -n "$ganache-cli_pid" ]; then
    kill -9 $ganache-cli_pid
  fi
}